---
import SectionTittle from "./section-tittle.astro";
---

<section id="contact" class="w-[90%] flex flex-col justify-center">
  <SectionTittle title="Contact" />
  <div class="flex flex-col lg:flex-row items-center w-full">
    <div class="flex-1 w-[80%]">
      <div
        class="flex flex-col lg:h-[65vh] w-full gap-6 md:justify-between pt-[1.5rem] md:pt-[2.5rem] pb-4"
      >
        <h2 class="text-4xl text-center lg:text-left lg:text-7xl w-full">
          GET IN TOUCH
        </h2>
        <div class="flex w-full justify-center lg:justify-start gap-4">
          <div class="h-[10vh] w-20 bg-primary rounded-md">
            <img
              class="img h-[10vh] object-cover transition duration-300 ease-in"
              src="/perfil.png"
              alt=""
            />
          </div>
          <div class="w-30">
            <p class="lg:text-3xl font-bold">Pablo Figueroa</p>
            <p class="lg:text-2xl text-primary font-semibold">
              Full Stack Developer
            </p>
          </div>
        </div>
        <div
          class="flex flex-wrap w-full justify-center lg:justify-start gap-3 md:gap-4"
        >
          <a
            class="w-[45%] md:flex-initial flex justify-center md:w-[5rem] items-center border-2 border-text hover:bg-slate-200 dark:bg-[#2C2C2C] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] p-2 px-4 rounded-lg transition-all duration-500 ease-in-out"
            href="https://www.linkedin.com/in/pablofigueroa16/"
            target="_blank"
            aria-label="Enlace a perfil de LinkedIn"
          >
            <div class="w-[40px] h-[40px] flex justify-center items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="42"
                width="38"
                viewBox="0 0 448 512"
              >
                <path
                  fill="#007bff"
                  d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"
                ></path>
              </svg>
            </div>
          </a>
          <a
            class="w-[45%] md:flex-initial flex justify-center md:w-[5rem] items-center border-2 border-text hover:bg-slate-200 dark:bg-[#2C2C2C] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] p-2 px-4 rounded-lg transition-all duration-500 ease-in-out"
            href="mailto:pablofigueroa611@gmail.com"
            target="_blank"
            aria-label="Enlace para enviar un correo a Gmail"
          >
            <div class="w-[40px] h-[40px] flex justify-center items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="42"
                width="42"
                viewBox="0 0 512 512"
              >
                <path
                  fill="#007bff"
                  d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"
                ></path>
              </svg>
            </div>
          </a>
          <a
            class="w-[45%] md:flex-initial flex justify-center md:w-[5rem] items-center border-2 border-text hover:bg-slate-200 dark:bg-[#2C2C2C] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] p-2 px-4 rounded-lg transition-all duration-500 ease-in-out"
            href="https://github.com/pablofigueroa16"
            target="_blank"
            aria-label="Enlace a perfil de Github"
          >
            <div class="w-[40px] h-[40px] flex justify-center items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="42"
                width="41"
                viewBox="0 0 496 512"
              >
                <path
                  fill="#007bff"
                  d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 111.6 69.8 206.2 167.1 239.2 12.8 2.6 17.5-5.6 17.5-12.3l0-43.2c-69 15-83.7-29.9-83.7-29.9-11.6-29.9-28.3-37.9-28.3-37.9-23.1-15.9 1.6-15.9 1.6-15.9 25.6 1.6 39.2 25.9 39.2 25.9 22.7 39.2 59.6 28.3 74.9 21.6 2.3-17.5 8.9-28.3 15.9-34.9-55.2-6.2-113.1-27.6-113.1-122.1 0-27.6 9.8-49.9 25.9-67.5-2.6-6.2-11.6-32.3 2.3-67.5 0 0 21.6-6.9 69 25.9 21-5.9 45.6-9.2 69-9.2 23.6 0 47.9 3.3 69.6 9.2 47.3-32.8 69-25.9 69-25.9 13.9 35.2 4.9 61.3 2.3 67.5 16.2 17.5 25.9 39.9 25.9 67.5 0 94.5-59.6 115.5-116 122.1 8.9 7.9 17.2 23.6 17.2 47.6l0 69c0 6.6 4.6 14.9 17.5 12.3C426.3 458.2 496 363.6 496 252 496 113.3 383.5 8 244.8 8z"
                ></path>
              </svg>
            </div>
          </a>
          <a
            class="w-[45%] md:flex-initial flex justify-center md:w-[5rem] items-center border-2 border-text hover:bg-slate-200 dark:bg-[#2C2C2C] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] p-2 px-4 rounded-lg transition-all duration-500 ease-in-out"
            href="https://calendly.com/pablofigueroa611"
            target="_blank"
            aria-label="Enlace a perfil de Github"
          >
            <div class="w-[40px] h-[40px] flex justify-center items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="42"
                width="41"
                viewBox="0 0 448 512"
              >
                <path
                  fill="#007bff"
                  d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"
                ></path></svg
              >
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="flex-1 w-[80%]">
      <form id="form" class="flex md:h-[65vh] flex-col w-full pb-4" action="">
        <label class="input text-transparent h-2 md:h-10" for="from_name"
          >Your Name</label
        >
        <input
          required
          class="dark:text-white border-2 border-text hover:bg-slate-200 dark:bg-[#303236] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] px-4 h-16 md:h-20 rounded-md transition duration-150 ease-in"
          placeholder="Your Name"
          type="text"
          name="from_name"
          id="from_name"
        />
        <label class="input text-transparent h-2 md:h-10" for="email_id"
          >Your Email</label
        >
        <input
          required
          class="dark:text-white border-2 border-text hover:bg-slate-200 dark:bg-[#303236] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] px-4 h-16 md:h-20 rounded-md transition duration-150 ease-in"
          placeholder="Your Email"
          type="email"
          name="email_id"
          id="email_id"
        />

        <label class="input text-transparent h-2 md:h-10" for="message"
          >Your Message</label
        >
        <textarea
          required
          class="p-4 rounded-md h-20 md:h-36 border-2 border-text hover:bg-slate-200 dark:bg-[#303236] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] dark:text-white transition duration-150 ease-in"
          name="message"
          id="message"
          placeholder="Your Message"
          cols="10"
          rows="3"></textarea>
        <input
          class="border-2 cursor-pointer border-text hover:bg-slate-200 dark:bg-[#2C2C2C] dark:hover:bg-[#3C3C3C] focus:outline-none focus:ring-2 focus:ring-[#555] text-primary font-semibold mt-3 md:mt-[2.5rem] h-16 md:h-20 rounded-md transition duration-500 ease-in-out"
          type="submit"
          id="button"
          value="SEND EMAIL"
        />
      </form>
    </div>
  </div>
</section>
<style>
  .img {
    filter: grayscale(1);
  }
  .img:hover {
    filter: grayscale(0);
  }
  input,
  textarea {
    caret-color: #007bff;
  }
  .input {
    user-select: none;
  }
  textarea {
    resize: none;
  }
</style>
<script>
  const btn = document.getElementById("button") as HTMLInputElement | null;
  const form = document.getElementById("form") as HTMLFormElement | null;

  if (form && btn) {
    form.addEventListener("submit", function (event: Event) {
      event.preventDefault();

      btn.value = "SENDING...";

      const serviceID: string = "default_service";
      const templateID: string = "template_s41o01r";
      // @ts-ignore
      emailjs.sendForm(serviceID, templateID, this).then(
        () => {
          btn.value = "SEND!";
          setTimeout(() => {
            btn.value = "SEND EMAIL";
          }, 1000);
        },
        (err: any) => {
          btn.value = "Send Email";
          console.error(JSON.stringify(err));
        }
      );
    });
  }
</script>
